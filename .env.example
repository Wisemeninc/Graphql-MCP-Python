# ============================================================================
# TLS Configuration (Optional - Traefik with Let's Encrypt)
# ============================================================================
# To enable TLS, run: docker compose --profile tls up -d

# Your domain name (required for TLS)
DOMAIN=example.com

# Let's Encrypt email for certificate notifications
ACME_EMAIL=admin@example.com

# Cloudflare DNS API credentials for DNS-01 challenge
# Create an API token at: https://dash.cloudflare.com/profile/api-tokens
# Required permissions: Zone:DNS:Edit
CF_API_EMAIL=your-cloudflare-email@example.com
CF_DNS_API_TOKEN=your-cloudflare-dns-api-token

# Traefik dashboard authentication (htpasswd format)
# Generate with: htpasswd -nb admin yourpassword
TRAEFIK_DASHBOARD_AUTH=admin:$$apr1$$xyz...

# Traefik log level (DEBUG, INFO, WARN, ERROR)
TRAEFIK_LOG_LEVEL=INFO

# ============================================================================
# GraphQL Endpoint (required for main service)
# ============================================================================
GRAPHQL_ENDPOINT=https://api.example.com/graphql

# Authentication token (optional)
GRAPHQL_AUTH_TOKEN=your_bearer_token_here

# Custom headers as JSON (optional)
GRAPHQL_HEADERS={"X-Custom-Header": "value"}

# SSL/TLS Certificate Verification (optional)
# Set to "false" to disable SSL certificate verification
# WARNING: Only use in development with self-signed certificates!
SSL_VERIFY=true

# HTTP Server Configuration
MCP_HOST=0.0.0.0
MCP_PORT=8000

# Logging Configuration
# Options: DEBUG, INFO, WARNING, ERROR (default: INFO)
LOG_LEVEL=INFO

# ============================================================================
# Additional Services (Docker Compose)
# ============================================================================
# Star Wars GraphQL Service
STARWARS_MCP_PORT=8001
STARWARS_GRAPHQL_ENDPOINT=https://swapi-graphql.netlify.app/graphql
STARWARS_AUTH_TOKEN=

# Huginn GraphQL Service
HUGINN_MCP_PORT=8008
HUGINN_GRAPHQL_ENDPOINT=https://app.local.huginn.energinet.local/graphql
HUGINN_AUTH_TOKEN=
HUGINN_SSL_VERIFY=false

# GitHub GraphQL Service (optional)
# GITHUB_MCP_PORT=8002
# GITHUB_TOKEN=your_github_token

# ============================================================================
# OAuth 2.1 Authentication (optional)
# ============================================================================
# OAuth 2.1 with PKCE support - more secure than basic OAuth
# Supports multiple providers: github, google, azure

# Enable OAuth 2.1 (default: false)
OAUTH_ENABLED=false

# OAuth Provider: github, google, azure (default: github)
OAUTH_PROVIDER=github

# OAuth 2.1 credentials (provider-agnostic)
OAUTH_CLIENT_ID=your_oauth_client_id
OAUTH_CLIENT_SECRET=your_oauth_client_secret
OAUTH_REDIRECT_URI=https://your-domain.com/auth/callback

# Access Control (optional - if not set, any authenticated user can access)
# Comma-separated list of allowed usernames
OAUTH_ALLOWED_USERS=user1,user2,user3

# Comma-separated list of allowed groups/organizations
OAUTH_ALLOWED_GROUPS=my-org,another-org

# ============================================================================
# GitHub OAuth (Legacy - use OAuth 2.1 above for new deployments)
# ============================================================================
# These variables are still supported for backward compatibility
# Enable GitHub OAuth (default: false)
GITHUB_AUTH_ENABLED=false

# GitHub OAuth App credentials (required if auth enabled)
# Create an OAuth App at: https://github.com/settings/developers
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# OAuth callback URL (optional, auto-detected if not set)
# GITHUB_OAUTH_CALLBACK_URL=https://your-domain.com/auth/callback

# Access Control (optional - if not set, any authenticated GitHub user can access)
# Comma-separated list of allowed GitHub usernames
GITHUB_ALLOWED_USERS=user1,user2,user3

# Comma-separated list of allowed GitHub organizations
GITHUB_ALLOWED_ORGS=my-org,another-org

# Auth token expiry in seconds (default: 86400 = 24 hours)
AUTH_TOKEN_EXPIRY=86400

# ============================================================================
# Google OAuth (optional - requires OAUTH_PROVIDER=google)
# ============================================================================
# Create credentials at: https://console.cloud.google.com/apis/credentials
# GOOGLE_CLIENT_ID=your_google_client_id
# GOOGLE_CLIENT_SECRET=your_google_client_secret
# GOOGLE_REDIRECT_URI=https://your-domain.com/auth/callback

# ============================================================================
# Azure AD OAuth (optional - requires OAUTH_PROVIDER=azure)
# ============================================================================
# Register app at: https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps
# AZURE_CLIENT_ID=your_azure_client_id
# AZURE_CLIENT_SECRET=your_azure_client_secret
# AZURE_TENANT_ID=your_tenant_id_or_common
# AZURE_REDIRECT_URI=https://your-domain.com/auth/callback
